# Cppcheck-builder image

The Dockerfile can be used to build a docker image with a specific version of cppcheck installed.<br/>
The Dockerfile uses ubuntu:20.04 image to build static version of specified cppcheck.<br/>
Then it creates a image from apline containing static cppcheck binary generated by the ubuntu:20.04 image.<br/>

Build commands
---
To build a specific cppcheck version docker image use the following command -
Replace 2.9.2 with the version of cppcheck required.
```
docker build --build-arg CPPCHECK_VERSION=2.9.3 -t <image_name>:<tag> .
```

The above command will build a docker image with specified CPPCHECK_VERSION inbuild.<br/>
There are two ways to run the above generated docker image.

Run default command
---
```
docker run -it --rm -v <path_of_cpp_files_on_host>:/home/cppcheck/ <image_name>/<tag>
```
The above command will run cppcheck with default arguments on all the files present in <path_of_cpp_files_on_host> folder.<br/>
The output is generated in file named cppcheck-output.txt<br/>
Default arguments used are<br/>
["--enable=all", "--language=c++", "--std=c++20", "--output-file=cppcheck-output.txt", "."]<br/>

Run custom command
---
User can give custom input as well by specifying the arguments in docker run command as follows
```
docker run -it --rm -v <path_of_cpp_files_on_host>:/home/cppcheck/ <image_name>/<tag> --help
docker run -it --rm -v <path_of_cpp_files_on_host>:/home/cppcheck/ <image_name>/<tag> --version
docker run -it --rm -v <path_of_cpp_files_on_host>:/home/cppcheck/ <image_name>/<tag> --xml --enable=all --output-file=file.out .
```
The first command display the help. Second command displays the version.<br/>
The third command uses custom args from the user. All the default args mentioned in previous section will be discarded.
